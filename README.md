# 1.과제 개요
- 과제명: DB 모델링 과제 – 영화관 CGB 예약 시스템 설계
- 목표: 영화관 CGB의 단일 지점을 기준으로 예약 시스템을 설계하고, 지점 내 여러 상영관 및 영화 상영, 좌석 예매 구조를 데이터 모델로 구현.
- 요구사항은 총 10가지 조건으로 주어졌으며, 해당 요구조건을 만족하는 형태로 논리적 ERD를 설계하였다.
---
# 2. 모델링 전략
## 1) 핵심 엔티티 식별
### 요구사항 분석을 통해 다음과 같은 실체(Entity)를 도출
``` text
Theater (지점)
Screen (상영관)
Seat (좌석)
ScreenPeriod (상영 시간표)
Movie (영화)
Ticket (티켓)
Customer (고객)
Employee (담당자)
```
각 엔티티들은 현실 세계의 객체에 기반하여 구분하였으며, 상호 간의 관계에 따라 테이블 및 속성을 정의하였다.

---
## 2) 엔티티 간 관계 정의
| 관계                   | 설명                                   |
|------------------------|----------------------------------------|
| 지점 1 ── N 상영관     | 한 지점에 여러 상영관이 존재           |
| 상영관 1 ── N 좌석     | 상영관별로 좌석 구성 상이              |
| 상영관 1 ── N 상영시간 | 하나의 상영관에서 여러 시간대 영화 상영 |
| 상영시간 N ── 1 영화   | 하나의 상영 시간에는 단 하나의 영화 상영 |
| 좌석 1 ── 1 티켓       | 한 좌석은 하나의 티켓에만 예매 가능     |
| 티켓 N ── 1 고객       | 고객은 여러 티켓을 예매할 수 있음       |
| 상영관 1 ── 1 담당자   | 상영관별로 1명의 직원 담당             |

---

## 3) 주요 제약 및 정책 반영
- **상영 시간 겹침 불가**: 같은 상영관에서 시작/종료 시간이 겹치지 않도록 논리적 제약 구현

- **10분 전까지만 예매 가능**: 예매 시 현재 시간과 상영 시작 시간 비교 (서버 사용)

- **좌석별 가격 상이**: 좌석 테이블에 base_price 컬럼을 포함하여 위치에 따른 가격 차등 구현

- **관리자 요구사항 대응**: 별도 Admin 테이블 없이도, 좌석, 상영관, 예매 상태를 조인하여 조회 가능한 View 또는 Report로 구현

---
# 3. 설계 결과 및 요구사항 검증
| 요구사항                      | 반영 여부 | 구현 방식 요약                                      |
|------------------------------|------------|------------------------------------------------------|
| 지점 내 여러 상영관           | O          | Theater ─ Screen 관계                               |
| 상영관 내 좌석 구성           | O          | Screen ─ Seat 관계                                  |
| 상영시간 겹침 방지            | O          | ScreenPeriod 제약 (논리적)                          |
| 상영시간당 1편 영화           | O          | ScreenPeriod ─ Movie                                 |
| 티켓은 좌석, 상영시간, 고객 포함 | O       | Ticket 테이블 구조                                   |
| 영화는 일 단위 기간           | O          | Movie 테이블에 start_date~end_date                 |
| 좌석별 가격 차등              | O          | Seat.base_price                                      |
| 상영 10분 전까지만 예매       | O          | 서버단 제어                              |
| 상영관별 직원 지정            | O          | Screen ─ Employee 1:1 관계                           |
| 관리자 요구 정보 제공         | O          | View 구성 가능 (Screen + Seat + Ticket 조인)        |

---
# 4. ERD 구성

아래 ERD는 본 과제의 요구사항을 반영하여 설계된 논리적 모델입니다.  
각 테이블은 영화관 예약 시스템 내 실세계 객체(지점, 상영관, 좌석, 영화, 티켓 등)를 기반으로 도출되었으며,  
테이블 간 관계는 명확한 비즈니스 로직에 기반하여 1:1, 1:N, N:1로 설정되었습니다.

- 모든 테이블은 정규화를 통해 중복을 최소화하였으며, 확장성과 유지보수성을 고려하였습니다.
- 관리자 조회 기능은 별도의 테이블 대신 `Screen`, `Seat`, `Ticket` 등을 조합한 View 형태로 처리할 수 있도록 설계되었습니다.

> 아래 ERD 이미지는 이를 시각화한 결과로, 실제 DB 구현 시 기준이 됩니다.
![image](https://github.com/user-attachments/assets/5b9dc665-91e8-449d-8f70-d33034f16a7f)
